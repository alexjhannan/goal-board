"use strict";angular.module("yeomanTutorialApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.sortable","LocalStorageModule"]).config(["localStorageServiceProvider",function(a){a.setPrefix("ls")}]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).when("/completions",{templateUrl:"views/completions.html",controller:"CompletionsCtrl",controllerAs:"completions"}).when("/rewards",{templateUrl:"views/rewards.html",controller:"RewardsCtrl",controllerAs:"rewards"}).otherwise({redirectTo:"/"})}]),angular.module("yeomanTutorialApp").controller("MainCtrl",["$scope","localStorageService",function(a,b){var c=b.get("goals"),d=b.get("completes");a.goals=c||[],a.$watch("goals",function(){b.set("goals",a.goals)},!0),a.addGoal=function(){if(a.goal){var b={name:a.goal,pomos:0};a.goals.push(b),a.goal=""}},a.completeGoal=function(c){var e=a.goals.splice(c,1)[0],f=d||[];f.push(e),b.set("completes",f)},a.removeGoal=function(b){a.goals.splice(b,1)},a.addPomo=function(b){a.goals[b].pomos++},a.subtractPomo=function(b){a.goals[b].pomos>0&&a.goals[b].pomos--}}]),angular.module("yeomanTutorialApp").controller("CompletionsCtrl",["$scope","localStorageService",function(a,b){a.thing="this is the completions page";var c=b.get("completes");a.completes=c||[],a.$watch("completes",function(){b.set("completes",a.completes)},!0),a.removeComplete=function(b){a.completes.splice(b,1),a.countCompletions()},a.countCompletions=function(){var b=0;a.completes.forEach(function(a){b+=a.pomos}),a.count=b},a.countCompletions()}]),angular.module("yeomanTutorialApp").controller("RewardsCtrl",["$scope","localStorageService",function(a,b){var c=b.get("completes")||[],d=b.get("unpurchased")||[],e=b.get("purchased")||[];a.completes=c||[],a.unpurchased=d||[],a.purchased=e||[],a.countCompletions=function(){var b=0;return a.completes.forEach(function(a){b+=a.pomos}),b},a.countSpent=function(){var b=0;return a.purchased.forEach(function(a){b+=a.cost}),b},a.addUnpurchased=function(){a.reward.name&&((!a.reward.cost||a.reward.cost<0)&&(a.reward.cost=0),a.reward.url||(a.reward.url="#/rewards"),a.unpurchased.push(a.reward),a.reward={})},a.removeUnpurchased=function(b){a.unpurchased.splice(b,1)},a.removePurchased=function(b){a.purchased.splice(b,1),a.spent=a.countSpent()},a.purchaseUnpurchased=function(b){if(a.count-a.spent>a.unpurchased[b].cost){var c=a.unpurchased.splice(b,1)[0];a.purchased.push(c),a.count=a.countCompletions(),a.spent=a.countSpent()}else console.log("fail")},a.$watch("unpurchased",function(){b.set("unpurchased",a.unpurchased)},!0),a.$watch("purchased",function(){b.set("purchased",a.purchased)},!0),a.count=a.countCompletions(),a.spent=a.countSpent()}]),angular.module("yeomanTutorialApp").run(["$templateCache",function(a){a.put("views/completions.html",'<div class="container"> <h2>Completions</h2> <div ng-model="completes" ui-sortable> <p class="input-group" ng-repeat="complete in completes" style="padding: 5px 10px"> <span class="input-group-addon" style="cursor: move"><i class="glyphicon glyphicon-sort"></i></span> <input type="text" ng-model="complete.name" class="form-control"> <span class="input-group-addon">{{ complete.pomos }}</span> <span class="input-group-btn"> <button class="btn btn-danger" ng-click="removeComplete($index)" aria-label="Remove"><i class="glyphicon glyphicon-remove"></i></button> </span> </p> </div> <div class="footer"> <div class="container"> <p class="text-center">...starts with small stones...</p> </div> <hr> <div class="container"> <h5>Instructions</h5> <ul> <li>Not much to see here. Click the red button to delete a completion.</li> </ul> <h4>Completion Stats<br><small><small>(assumes 30 minutes per pomodoro)</small></small></h4> <p>Value of all completions to date: <strong>{{ count }}</strong></p> <p>Total time spent goaling: <strong>{{ count * 30 + \' minutes\' }}</strong></p> </div> </div> </div>'),a.put("views/main.html",'<div class="container"> <h2>Goal Board</h2> <!-- form to add a new task --> <!-- ng-submit binds a function to the form submission\n					 if no action attribute is present (like here), this also prevents the default action --> <form role="form" ng-submit="addGoal()" class="spaced"> <div class="row"> <!-- .input-group allows for inline buttons on input boxes --> <div class="input-group"> <input type="text" ng-model="goal" placeholder="add a goal" class="form-control"> <!-- .input-group-btn binds this btn to the input group in this div --> <span class="input-group-btn"> <input type="submit" class="btn btn-primary" value="add"> </span> </div> </div> </form> <!-- list of current goals --> <div ng-model="goals" ui-sortable> <p class="input-group" ng-repeat="goal in goals" style="padding: 5px 10px"> <span class="input-group-addon" style="cursor: move"><i class="glyphicon glyphicon-sort"></i></span> <input type="text" ng-model="goal.name" class="form-control"> <span class="input-group-addon addon-sm" ng-click="subtractPomo($index)" style="cursor: pointer">-</span> <span class="input-group-addon">{{ goal.pomos }}</span> <span class="input-group-addon addon-sm" ng-click="addPomo($index)" style="cursor: pointer">+</span> <span class="input-group-btn"> <button class="btn btn-success" ng-click="completeGoal($index)" aria-label="Remove"><i class="glyphicon glyphicon-ok"></i></button> <button class="btn btn-danger" ng-click="removeGoal($index)" aria-label="Remove"><i class="glyphicon glyphicon-remove"></i></button> </span> </p> </div> <div class="footer"> <div class="container"> <p class="text-left">one who moves mountains...</p> </div> <hr> <div class="container"> <h5>Instructions</h5> <ul> <li>Add goals to your goal board with the text box up top.</li> <li>For every <a href="https://en.wikipedia.org/wiki/Pomodoro_Technique" target="_blank">pomodoro</a> round (25-35 minutes of work) you spend attempting a goal, add one to the counter.</li> <ul><li>You\'ve only got yourself to stop you from cheating.</li></ul> <li>When you have finished your goal, click the green button to send that goal to your completions page.</li> <ul><li>(If you make a mistake, remove a goal by clicking the red button - it won\'t be completed.)</li></ul> <li>Rack up points by completing goals. See your completed goals on the completions page.</li> <li>Go to the rewards page to spend your points on rewards.</li> </ul> </div> </div> </div>'),a.put("views/rewards.html",'<div class="container"> <h2>Rewards</h2> <p>Current spendable points: {{ count - spent }}</p> <div ng-model="unpurchased" ui-sortable> <p class="input-group" ng-repeat="reward in unpurchased" style="padding: 5px 10px"> <span class="input-group-addon" style="cursor: move"><i class="glyphicon glyphicon-sort"></i></span> <input type="text" ng-model="reward.name" class="form-control"> <span class="input-group-addon"><a href="{{reward.url}}" target="_blank"><i class="glyphicon glyphicon-link"></i></a></span> <span class="input-group-addon">{{ reward.cost }}</span> <span class="input-group-btn"> <button class="btn btn-success" ng-click="purchaseUnpurchased($index)" aria-label="Remove"><i class="glyphicon glyphicon-shopping-cart"></i></button> <button class="btn btn-danger" ng-click="removeUnpurchased($index)" aria-label="Remove"><i class="glyphicon glyphicon-remove"></i></button> </span> </p> </div> <hr> <h2>Add a Reward</h2> <form role="form" ng-submit="addUnpurchased()"> <div class="row"> <div class="input-group spaced"> <span class="input-group-addon addon-lg">Name</span> <input type="text" ng-model="reward.name" placeholder="name your reward" class="form-control" required> <span class="input-group-addon addon-lg">Cost</span> <input type="number" ng-model="reward.cost" class="form-control"> </div> <div class="input-group spaced"> <span class="input-group-addon addon-lg">URL</span> <input type="url" ng-model="reward.url" placeholder="ex: https://en.wikipedia.org/wiki/Bouncy_ball" class="form-control" novalidate> <span class="input-group-btn"> <input type="submit" class="btn btn-primary" value="add"> </span> </div> </div> </form> <hr> <h2>Purchased Rewards</h2> <div ng-model="purchased" ui-sortable> <p class="input-group" ng-repeat="reward in purchased" style="padding: 5px 10px"> <span class="input-group-addon" style="cursor: move"><i class="glyphicon glyphicon-sort"></i></span> <input type="text" ng-model="reward.name" class="form-control"> <span class="input-group-addon"><a href="{{reward.url}}" target="_blank"><i class="glyphicon glyphicon-link"></i></a></span> <span class="input-group-addon">{{ reward.cost }}</span> <span class="input-group-btn"> <button class="btn btn-danger" ng-click="removePurchased($index)" aria-label="Remove"><i class="glyphicon glyphicon-remove"></i></button> </span> </p> </div> <div class="footer"> <div class="container"> <p class="text-right">...and sees the peak many times.</p> </div> <hr> <div class="container"> <h5>Instructions</h5> <ul> <li>Add a reward name, (optional) attach a cost (in pomodoro rounds), and (optional) include a URL address to start populating your rewards list!</li> <li>Purchase rewards by pressing the green button. You\'ll use your points gained through completing goals.</li> <li>See your purchased rewards in the second list.</li> <li>Delete any rewards (purchased or otherwise) by pressing the red button.</li> </ul> </div> </div> </div>')}]);